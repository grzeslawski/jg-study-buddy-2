(this["webpackJsonpstudy-buddy"]=this["webpackJsonpstudy-buddy"]||[]).push([[0],{1795:function(n,e,t){"use strict";t.r(e);var r,o,c,i,a,s,u,l,d=t(0),b=t.n(d),p=t(54),h=t.n(p),j=t(2),f=t.n(j),x=t(16),g=t(8),m=t(40),O=t.n(m),v=t(1),y=b.a.createContext({}),w=function(n){var e=n.children,t=Object(d.useState)(null),r=Object(g.a)(t,2),o=r[0],c=r[1],i=Object(d.useCallback)((function(n){c(n),setTimeout((function(){c(null)}),7e3)}),[]);return Object(v.jsx)(y.Provider,{value:{error:o,dispatchError:i},children:e})},k=function(){var n=Object(d.useContext)(y);if(!n)throw Error('errorContext doesn"t exist');return n},S=b.a.createContext({}),C=function(n){var e=n.children,t=Object(d.useState)(null),r=Object(g.a)(t,2),o=r[0],c=r[1],i=k().dispatchError;Object(d.useEffect)((function(){var n=localStorage.getItem("token");n&&Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/me",{headers:{authorization:"Bearer ".concat(n)}});case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var a=function(){var n=Object(x.a)(f.a.mark((function n(e){var t,r,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.login,r=e.password,n.prev=1,n.next=4,O.a.post("/login",{login:t,password:r});case 4:o=n.sent,c(o.data),localStorage.setItem("token",o.data.token),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i("Invalid email or password");case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)(S.Provider,{value:{user:o,signIn:a,singOut:function(){c(null),localStorage.removeItem("token")}},children:e})},z=function(){var n=Object(d.useContext)(S);if(!n)throw Error("useAuth needs to be used inside AuthContext");return n},G=t(6),E=t(5),P=E.c.h1(r||(r=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n"])),(function(n){return n.theme.fontSize.xl}),(function(n){return n.theme.colors.darkGrey})),B=Object(E.d)(o||(o=Object(G.a)(["\nfrom {\n    transform: translateX(-50%) scaleX(1);\n}\nto {\n    transform: translateX(-50%) scaleX(0);\n\n}\n"]))),A=Object(E.d)(c||(c=Object(G.a)(["\nfrom {\n    transform: translate(-50%, 500%);\n}\nto {\n    transform: translate(-50%, 0);\n}\n"]))),I=E.c.div(i||(i=Object(G.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: 10%;\n  padding: 25px 25px 15px;\n  background-color: ",";\n  color: ",";\n  border: 3px solid ",";\n  border-radius: 15px;\n  z-index: 999;\n  animation: "," 1s ease-in-out 1 forwards, "," 1s 6s ease-in-out reverse forwards;\n\n  "," {\n    color: ",";\n  }\n\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    top: 15px;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: ",";\n    width: 60px;\n    height: 5px;\n    border-radius: 50px;\n  }\n\n  &::before {\n    opacity: 0.5;\n  }\n\n  &::after {\n    transform: translateX(-50%) scaleX(1);\n    transform-origin: left center;\n    animation: "," 5s 1s linear 1 forwards;\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.error}),(function(n){return n.theme.colors.error}),A,A,P,(function(n){return n.theme.colors.error}),(function(n){return n.theme.colors.error}),B),q=function(n){var e=n.message,t=void 0===e?"Something went wrong. Please try again, or contact our support.":e;return Object(v.jsxs)(I,{children:[Object(v.jsx)(P,{children:"Oops!"}),Object(v.jsx)("p",{children:t})]})},L=t(13),M=E.c.button(a||(a=Object(G.a)(["\n  margin: 15px 0;\n  padding: ",";\n  font-size: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: 20px;\n  border: none;\n  font-weight: 700;\n"])),(function(n){return n.isBig?"10px 38px":"7px 20px"}),(function(n){var e=n.isBig,t=n.theme.fontSize;return e?t.m:t.s}),(function(n){return n.theme.colors.lightPurple}),(function(n){return n.theme.colors.darkGrey})),N=t(19),F=t(10),T=t(73),_=t(25),D=Object(T.a)({reducerPath:"groupsApi",baseQuery:Object(_.d)({baseUrl:"/"}),endpoints:function(n){return{getGroups:n.query({query:function(){return"groups"}})}}}),X=D.useGetGroupsQuery,U=Object(T.a)({reducerPath:"notesApi",baseQuery:Object(_.d)({baseUrl:"/"}),tagTypes:["Notes"],endpoints:function(n){return{getNotes:n.query({query:function(){return"notes"},providesTags:["Notes"]}),addNote:n.mutation({query:function(n){return{url:"notes",method:"POST",body:n}},invalidatesTags:["Notes"]}),removeNote:n.mutation({query:function(n){return{url:"notes",method:"DELETE",body:n}},invalidatesTags:["Notes"]})}}}),K=U.useGetNotesQuery,Q=U.useAddNoteMutation,R=U.useRemoveNoteMutation,V=Object(F.a)({reducer:(s={},Object(N.a)(s,U.reducerPath,U.reducer),Object(N.a)(s,D.reducerPath,D.reducer),s),middleware:function(n){return n().concat(U.middleware)}}),J=["title","titleId"];function Z(){return Z=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z.apply(this,arguments)}function H(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},c=Object.keys(n);for(r=0;r<c.length;r++)t=c[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(r=0;r<c.length;r++)t=c[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function Y(n,e){var t=n.title,r=n.titleId,o=H(n,J);return d.createElement("svg",Z({width:13,height:13,viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},o),t?d.createElement("title",{id:r},t):null,u||(u=d.createElement("g",{clipPath:"url(#clip0_276_117)"},d.createElement("path",{d:"M9.90477 2.67625C7.77223 0.543138 4.30123 0.543138 2.16869 2.67625C1.13568 3.70994 0.56665 5.08399 0.56665 6.54532C0.56665 8.00666 1.13568 9.3807 2.16869 10.414C3.23517 11.4808 4.63596 12.0139 6.03672 12.0139C7.43748 12.0139 8.83829 11.4808 9.90475 10.414C12.0373 8.28088 12.0373 4.80977 9.90477 2.67625ZM9.30563 9.81469C7.50317 11.6176 4.57027 11.6176 2.7678 9.81469C1.89497 8.94163 1.41406 7.78034 1.41406 6.54532C1.41406 5.3103 1.89497 4.14902 2.7678 3.27552C4.57027 1.47257 7.50317 1.473 9.30563 3.27552C11.1077 5.07847 11.1077 8.01217 9.30563 9.81469Z",fill:"white"}),d.createElement("path",{d:"M7.74044 7.68187L6.60381 6.54536L7.74044 5.40885C7.89702 5.25207 7.89702 4.99759 7.74085 4.84038C7.58387 4.68279 7.32972 4.6832 7.17274 4.83998L6.03532 5.9773L4.89789 4.83998C4.74091 4.6832 4.48676 4.68279 4.32978 4.84038C4.17321 4.99757 4.17321 5.25205 4.33019 5.40885L5.46683 6.54536L4.33019 7.68187C4.17321 7.83865 4.17321 8.09313 4.32978 8.25034C4.40808 8.32913 4.51126 8.36812 4.61405 8.36812C4.71684 8.36812 4.81961 8.32872 4.89791 8.25073L6.03534 7.1134L7.17276 8.25073C7.25106 8.32913 7.35383 8.36812 7.45662 8.36812C7.55942 8.36812 7.66259 8.32872 7.74089 8.25034C7.89743 8.09313 7.89742 7.83865 7.74044 7.68187Z",fill:"white"}))),l||(l=d.createElement("defs",null,d.createElement("clipPath",{id:"clip0_276_117"},d.createElement("rect",{width:12.5448,height:12.5448,fill:"white",transform:"translate(0.0178223 0.0179443)"})))))}var W,$,nn,en,tn,rn,on,cn,an,sn,un,ln,dn,bn,pn,hn,jn,fn,xn,gn,mn,On=d.forwardRef(Y),vn=(t.p,E.c.button(W||(W=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 25px;\n  height: 25px;\n  background-color: ",";\n  border-radius: 50%;\n  border: none;\n  color: white;\n"])),(function(n){return n.theme.colors.grey}))),yn=function(n){return Object(v.jsx)(vn,Object(L.a)(Object(L.a)({},n),{},{children:Object(v.jsx)(On,{})}))},wn=E.c.div($||($=Object(G.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  h3,\n  p {\n    margin: 0;\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.darkGrey})),kn=Object(E.c)(yn)(nn||(nn=Object(G.a)(["\n  position: absolute;\n  top: 20px;\n  left: -40px;\n"]))),Sn=function(n){var e=n.title,t=void 0===e?"Untitled":e,r=n.content,o=void 0===r?"No content":r,c=n.id,i=R(),a=Object(g.a)(i,1)[0];return Object(v.jsxs)(wn,{children:[Object(v.jsx)(P,{children:t}),Object(v.jsx)("p",{children:o}),Object(v.jsx)(kn,{"aria-label":"Delete",onClick:function(){a({id:c})}})]})},Cn=E.c.div(en||(en=Object(G.a)(["\n  width: 400px;\n  height: auto;\n  max-height: 700px;\n  position: absolute;\n  right: 0;\n  top: 40px;\n  transform: ",";\n  transition: transform 0.6s ease-in-out;\n  background: ",";\n  border: 2px solid ",";\n"])),(function(n){return n.isOpen?"translateX(0)":"translateX(400px)"}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.darkGrey})),zn=E.c.div(tn||(tn=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 30px;\n  background-color: ",";\n  transform: rotate(-90deg);\n  position: absolute;\n  left: -55px;\n  top: 40px;\n  color: ",";\n  border: none;\n  border-radius: 8px 8px 0 0;\n  line-height: 1;\n  cursor: pointer;\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.colors.white})),Gn=E.c.div(rn||(rn=Object(G.a)(["\n  max-height: 700px;\n  overflow-y: scroll;\n  padding: 20px 60px;\n  display: flex;\n  flex-direction: column;\n\n  &::-webkit-scrollbar {\n    width: 15px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.grey}),(function(n){return n.theme.colors.darkGrey})),En=t(51),Pn=E.c.input(on||(on=Object(G.a)(["\n  padding: 10px 12px;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  box-shadow: -2px 4px 10px rgba(115, 124, 142, 0.09);\n  border-radius: ",";\n  font-size: ",";\n  resize: none;\n\n  &:focus {\n    outline: none;\n    box-shadow: -2px 4px 10px rgba(115, 124, 142, 0.3);\n  }\n"])),(function(n){return n.theme.colors.lightPurple}),(function(n){return n.isTextarea?"15px":"25px"}),(function(n){return n.theme.fontSize.l})),Bn=E.c.label(cn||(cn=Object(G.a)(["\n  font-family: Montserrat, sans-serif;\n  font-weight: bold;\n  font-size: 12px;\n  color: ",";\n"])),(function(n){return n.theme.colors.darkGrey})),An=["onChange","value","label","name","id","type","isTextarea"],In=E.c.div(an||(an=Object(G.a)(["\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  "," {\n    margin-bottom: 12px;\n  }\n"])),Bn),qn=b.a.forwardRef((function(n,e){var t=n.onChange,r=n.value,o=n.label,c=n.name,i=n.id,a=n.type,s=void 0===a?"text":a,u=n.isTextarea,l=Object(En.a)(n,An);return Object(v.jsxs)(In,{children:[Object(v.jsx)(Bn,{htmlFor:i,children:o}),u?Object(v.jsx)(Pn,Object(L.a)(Object(L.a)({isTextarea:!0,as:"textarea",name:c,id:i,value:r,onChange:t,"data-testid":o},l),{},{ref:e})):Object(v.jsx)(Pn,Object(L.a)(Object(L.a)({name:c,id:i,type:s,value:r,onChange:t,"data-testid":o},l),{},{ref:e}))]})})),Ln=E.c.div(sn||(sn=Object(G.a)(["\n  padding: 30px;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr;\n  grid-gap: 30px;\n"]))),Mn=E.c.form(un||(un=Object(G.a)(["\n  padding: 40px 30px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  background-color: ",";\n  border-radius: 25px;\n"])),(function(n){return n.theme.colors.white})),Nn=Object(E.c)(qn)(ln||(ln=Object(G.a)(["\n  min-height: ",";\n"])),(function(n){return n.isTextarea?"150px":"unset"})),Fn=t(74),Tn=function(){var n=Object(Fn.a)(),e=n.register,t=n.handleSubmit,r=n.formState.errors,o=K(),c=o.data,i=o.isLoading,a=Q(),s=Object(g.a)(a,1)[0];return Object(v.jsxs)(Ln,{children:[Object(v.jsxs)(Mn,{onSubmit:t((function(n){var e=n.title,t=n.content;s({title:e,content:t})})),children:[Object(v.jsx)(Nn,Object(L.a)(Object(L.a)({},e("title",{required:!0})),{},{label:"Title",name:"title",id:"title"})),Object(v.jsx)(Nn,Object(L.a)(Object(L.a)({},e("content",{required:!0})),{},{isTextarea:!0,label:"Content",name:"content",id:"content"})),r.title&&Object(v.jsx)("span",{children:"Title is required"}),r.content&&Object(v.jsx)("span",{children:"Content is required"}),Object(v.jsx)(M,{type:"submit",children:"Add"})]}),i?Object(v.jsx)("h2",{children:"Loading..."}):Object(v.jsx)(Gn,{children:c.notes.length?c.notes.map((function(n){var e=n.title,t=n.content,r=n.id;return Object(v.jsx)(Sn,{id:r,title:e,content:t},r)})):Object(v.jsx)("p",{children:"Create your first note"})})]})},_n=t(18),Dn=t(39),Xn="576",Un="768",Kn="992",Qn="1236",Rn={sm:"(min-width: ".concat(Xn,"px)"),md:"(min-width: ".concat(Un,"px)"),lg:"(min-width: ".concat(Kn,"px)"),xl:"(min-width: ".concat(Qn,"px)")},Vn=("(max-width: ".concat(Xn-1,"px)"),"(max-width: ".concat(Un-1,"px)"),"(max-width: ".concat(Kn-1,"px)"),"(max-width: ".concat(Qn-1,"px)"),E.c.nav(dn||(dn=Object(G.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid ",";\n  justify-content: flex-start;\n  padding: 30px 0;\n\n  @media "," {\n    grid-row: 1 / 3;\n  }\n"])),(function(n){return n.theme.colors.lightPurple}),Rn.lg)),Jn=E.c.div(bn||(bn=Object(G.a)(["\n  background-color: ",";\n  width: 100%;\n  height: 60px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-bottom: 30px;\n\n  h1 {\n    font-size: 15px;\n    color: ",";\n    text-align: right;\n    margin-right: 20px;\n  }\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.colors.white})),Zn="active-link",Hn=Object(E.c)(Dn.c).attrs({activeClassName:Zn})(pn||(pn=Object(G.a)(["\n  font-weight: bold;\n  text-decoration: none;\n  color: ",";\n  text-align: right;\n  margin: 15px 20px 15px auto;\n  cursor: pointer;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 18px;\n    height: 3px;\n    top: 50%;\n    transform: translateY(-50%);\n    right: -20px;\n    background-color: ",";\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out;\n  }\n\n  &."," {\n    &::after {\n      opacity: 1;\n    }\n  }\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.colors.grey}),Zn),Yn=function(){var n=z();return Object(v.jsxs)(Vn,{children:[Object(v.jsx)(Jn,{children:Object(v.jsxs)("h1",{children:["Study",Object(v.jsx)("br",{}),"Buddy"]})}),Object(v.jsx)(Hn,{exact:!0,to:"/group",children:"Dashboard"}),Object(v.jsx)(Hn,{exact:!0,to:"/notes",children:"Notes"}),Object(v.jsx)(Hn,{as:"a",onClick:n.singOut,children:"Logout"})]})},Wn=E.c.div(hn||(hn=Object(G.a)(["\n  margin: 0;\n  padding: 0;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  overflow-x: scroll;\n  background-color: ",";\n  position: relative;\n\n  @media "," {\n    grid-template-columns: 150px 1fr 0.75fr;\n    grid-template-rows: 90px 1fr;\n    overflow: hidden;\n  }\n"])),(function(n){return n.theme.colors.lightGrey}),Rn.xl),$n=t(152),ne=t.n($n),ee=t(154),te=E.c.div(jn||(jn=Object(G.a)(["\n  height: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0 40px;\n\n  @media "," {\n    grid-row: 1 / 2;\n    grid-column: 2 / 3;\n  }\n\n  "," {\n    font-size: ",";\n    width: 100%;\n    max-width: 350px;\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.theme.colors.grey}),Rn.xl,Pn,(function(n){return n.theme.fontSize.xl}),(function(n){return n.theme.colors.lightPurple})),re=E.c.div(fn||(fn=Object(G.a)(["\n  color: ",";\n  font-size: ",";\n  margin-right: 40px;\n\n  p {\n    margin: 5px;\n  }\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.fontSize.l})),oe=E.c.div(xn||(xn=Object(G.a)(["\n  position: relative;\n"]))),ce=E.c.ul(gn||(gn=Object(G.a)(["\n  visibility: ",";\n  z-index: 1000;\n  max-height: 500px;\n  overflow-y: scroll;\n  padding: 10px;\n  border-radius: 15px;\n  list-style: none;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 30px;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n"])),(function(n){return n.isVisible?"visibility":"hidden"}),(function(n){return n.theme.colors.white})),ie=E.c.li(mn||(mn=Object(G.a)(["\n  font-weight: bold;\n  color: ",";\n  background-color: ",";\n  width: 100%;\n  padding: 20px 5px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){var e=n.theme;return n.isHighlighted?e.colors.lightPurple:e.colors.white}),(function(n){return n.theme.colors.lightPurple}),(function(n){return n.theme.colors.darkPurple})),ae=O.a.create({});ae.interceptors.request.use((function(n){var e=localStorage.getItem("token");return e&&(n.headers.authorization="Bearer ".concat(e)),n}),(function(n){return Promise.reject(n)}));var se,ue,le,de,be,pe,he=function(){var n=k().dispatchError,e=Object(d.useCallback)(Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/groups");case 3:return t=e.sent,e.abrupt("return",t.data.groups);case 7:e.prev=7,e.t0=e.catch(0),n("Sorry, groups not found, please try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),t=Object(d.useCallback)(function(){var e=Object(x.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/students/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.students);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),n("Sorry, students not found, please try again");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),[n]),r=Object(d.useCallback)(function(){var e=Object(x.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.get("/groups/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.students);case 7:e.prev=7,e.t0=e.catch(0),n("Sorry, students in this group not found, please try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),[n]),o=function(){var e=Object(x.a)(f.a.mark((function e(t){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.post("/students/search",{searchPhrase:t});case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0),n("Sorry, student not found, please try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return{getGroups:e,getStudentsByGroup:r,getStudentById:t,findStudents:o}},je=function(){var n=Object(d.useState)([]),e=Object(g.a)(n,2),t=e[0],r=e[1],o=he().findStudents,c=ne()(function(){var n=Object(x.a)(f.a.mark((function n(e){var t,c,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.inputValue,n.next=3,o(t);case 3:c=n.sent,i=c.students,r(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),500),i=Object(ee.a)({items:t,onInputValueChange:c,itemToString:function(n){return n?n.name:""}}),a=i.isOpen,s=i.getMenuProps,u=i.getInputProps,l=i.getComboboxProps,b=i.highlightedIndex,p=i.getItemProps;return Object(v.jsxs)(te,{children:[Object(v.jsxs)(re,{children:[Object(v.jsx)("p",{children:"Logged as:"}),Object(v.jsx)("p",{children:Object(v.jsx)("strong",{children:"Teacher"})})]}),Object(v.jsxs)(oe,Object(L.a)(Object(L.a)({},l()),{},{children:[Object(v.jsx)(Pn,Object(L.a)(Object(L.a)({},u()),{},{name:"Search",id:"Search",placeholder:"Search"})),Object(v.jsx)(ce,Object(L.a)(Object(L.a)({isVisible:a&&t.length>0},s()),{},{"aria-label":"results",children:a&&t.map((function(n,e){return Object(d.createElement)(ie,Object(L.a)(Object(L.a)({isHighlighted:b===e},p({item:n,index:e})),{},{key:n.id}),n.name)}))}))]}))]})},fe=E.c.div(se||(se=Object(G.a)(["\n  margin: 25px;\n  background-color: ",";\n  width: 100%;\n  max-width: 500px;\n  padding: 40px 50px;\n  border-radius: 25px;\n  box-shadow: 0 5px 15px -10px rgba(0, 0, 0, 0.3);\n"])),(function(n){return n.theme.colors.white})),xe=E.c.div(ue||(ue=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 50px;\n  height: 100%;\n\n  border-left: 1px solid ",";\n  overflow-y: scroll;\n\n  @media "," {\n    grid-row: 1 / 3;\n    grid-column: 3 / 3;\n  }\n\n  &::-webkit-scrollbar {\n    width: 15px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.grey}),Rn.xl,(function(n){return n.theme.colors.grey}),(function(n){return n.theme.colors.darkGrey})),ge=E.c.h2(le||(le=Object(G.a)(["\n  margin-right: auto;\n  color: ",";\n"])),(function(n){return n.theme.colors.darkGrey})),me=Object(E.c)(fe)(de||(de=Object(G.a)(["\n  margin: 30px 0;\n  width: 100%;\n  max-width: unset;\n  border-radius: 12px;\n  color: ",";\n\n  p {\n    line-height: 1.6;\n  }\n"])),(function(n){return n.theme.colors.darkGrey})),Oe=E.c.div(be||(be=Object(G.a)(["\n  h3 {\n    margin: 0;\n    font-size: ",";\n  }\n\n  p {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.fontSize.xl}),(function(n){return n.theme.fontSize.m})),ve=E.c.div(pe||(pe=Object(G.a)(["\n  img {\n    margin-top: 30px;\n    max-width: 200px;\n    object-fit: contain;\n  }\n"])));var ye,we,ke,Se,Ce,ze,Ge,Ee,Pe=function(){var n=Object(d.useState)([]),e=Object(g.a)(n,2),t=e[0],r=e[1],o=Object(d.useState)(""),c=Object(g.a)(o,2),i=c[0],a=c[1];return Object(d.useEffect)((function(){O.a.post("https://graphql.datocms.com/",{query:"\n{\n  allArticles {\n    id\n    title\n \t  category\n    content\n    image {\n      url\n    }\n  }\n}\n"},{headers:{Authorization:"Bearer ".concat("512dd18aa8be2845b7e9fa1719e732")}}).then((function(n){var e=n.data.data;r(e.allArticles)})).catch((function(n){a("Sorry, we couldn't load articles for you")}))}),[]),Object(v.jsxs)(xe,{children:[Object(v.jsx)(ge,{children:"University news feed"}),t.length>0?t.map((function(n){var e=n.id,t=n.title,r=n.category,o=n.content,c=n.image,i=void 0===c?null:c;return Object(v.jsxs)(me,{children:[Object(v.jsxs)(Oe,{children:[Object(v.jsx)("h3",{children:t}),Object(v.jsx)("p",{children:r})]}),Object(v.jsxs)(ve,{children:[Object(v.jsx)("p",{children:o}),i?Object(v.jsx)("img",{src:i.url,alt:"article"}):null]}),Object(v.jsx)(M,{isBig:!0,children:"click me"})]},e)})):Object(v.jsx)(ge,{children:i||"Loading..."})]})},Be=function(){var n=Object(d.useState)(!1),e=Object(g.a)(n,2),t=e[0],r=e[1],o=K(),c=o.data,i=o.isLoading;return Object(v.jsxs)(Cn,{isOpen:t,children:[Object(v.jsx)(zn,{onClick:function(){return r((function(n){return!n}))},children:"notes"}),i?Object(v.jsx)("h2",{children:"Loading..."}):Object(v.jsx)(Gn,{children:c.notes.length?c.notes.map((function(n){var e=n.title,t=n.content,r=n.id;return Object(v.jsx)(Sn,{id:r,title:e,content:t},r)})):Object(v.jsx)("p",{children:"Create your first note"})})]})},Ae=function(n){var e=n.children;return Object(v.jsxs)(Wn,{children:[Object(v.jsx)(Yn,{}),Object(v.jsx)(je,{}),e,Object(v.jsx)(Pe,{}),Object(v.jsx)(Be,{})]})},Ie=E.c.div(ye||(ye=Object(G.a)(["\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 50px 0;\n  width: 100%;\n  height: calc(100vh - 90px);\n  max-height: calc(100vh - 90px);\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 15px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.lightGrey}),(function(n){return n.theme.colors.grey}),(function(n){return n.theme.colors.darkGrey})),qe=E.c.div(we||(we=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n"]))),Le=Object(E.c)(fe)(ke||(ke=Object(G.a)(["\n  margin: 0;\n"]))),Me=E.c.div(Se||(Se=Object(G.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n"]))),Ne=E.c.div(Ce||(Ce=Object(G.a)(["\n  margin-left: 20px;\n  display: flex;\n  gap: 15px;\n\n  a {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    background-color: ",";\n    color: ",";\n    font-weight: 700;\n    text-decoration: none;\n    border-radius: 50%;\n    transition: background-color 0.2s ease;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n"])),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.colors.grey})),Fe=E.c.li(ze||(ze=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n\n  &:not(:last-child)::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    height: 1px;\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.lightGrey})),Te=(E.c.div(Ge||(Ge=Object(G.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  font-weight: bold;\n  background: ",";\n"])),(function(n){return n.isBig?"68px":"35px"}),(function(n){return n.isBig?"68px":"35px"}),(function(n){var e=n.isBig,t=n.theme;return e?t.fontSize.xl:t.fontSize.s}),(function(n){return n.theme.colors.white}),(function(n){var e=n.theme,t=n.value;return t>4?e.colors.success:t>3?e.colors.warning:t>=2?e.colors.error:e.colors.grey})),E.c.div(Ee||(Ee=Object(G.a)(["\n  padding: 25px 20px;\n\n  p {\n    margin: 0;\n    color: ",";\n  }\n\n  p:first-child {\n    display: flex;\n    align-items: center;\n    font-weight: bold;\n    font-size: ",";\n  }\n\n  p:last-child {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.colors.darkGrey}),(function(n){return n.theme.fontSize.l}),(function(n){return n.theme.fontSize.m}))),_e=t(3),De=t.n(_e),Xe=(De.a.string,De.a.string,De.a.number,t(12)),Ue=b.a.createContext({users:[],handleAddUser:function(){},deleteUser:function(){}});var Ke,Qe=E.c.div(Ke||(Ke=Object(G.a)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  font-weight: bold;\n  background: ",";\n"])),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.colors.white}),(function(n){var e=n.theme,t=n.value;return t>4?e.colors.success:t>3?e.colors.warning:t>1?e.colors.error:e.colors.grey})),Re=["userData"];var Ve,Je,Ze,He,Ye,We,$e,nt,et,tt=function(n){var e=n.userData,t=e.name,r=e.average,o=e.attendace,c=void 0===o?"0%":o,i=Object(En.a)(n,Re),a=Object(d.useContext)(Ue).deleteUser;return Object(v.jsxs)(Fe,Object(L.a)(Object(L.a)({},i),{},{children:[Object(v.jsx)(Qe,{value:r,children:r}),Object(v.jsxs)(Te,{children:[Object(v.jsx)("p",{children:t}),Object(v.jsxs)("p",{children:["attendace: ",c]})]}),Object(v.jsx)(yn,{onClick:function(){return a(t)}})]}))},rt=E.c.ul(Ve||(Ve=Object(G.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),ot=function(n){var e=n.handleOpenStudentsDetails,t=Object(d.useState)([]),r=Object(g.a)(t,2),o=r[0],c=r[1],i=Object(_n.g)().id,a=he().getStudentsByGroup;return Object(d.useEffect)((function(){Object(x.a)(f.a.mark((function n(){var e;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(i);case 2:e=n.sent,c(e);case 4:case"end":return n.stop()}}),n)})))()}),[a,i]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(P,{children:"Students list"}),Object(v.jsx)(rt,{children:o.map((function(n){return Object(v.jsx)(tt,{onClick:function(){return e(n.id)},userData:n},n.name)}))})]})},ct=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(d.useState)(n),t=Object(g.a)(e,2),r=t[0],o=t[1],c=function(){return o(!0)},i=function(){return o(!1)};return{isOpen:r,handleOpenModal:c,handleCloseModal:i}},it=E.c.div(Je||(Je=Object(G.a)(["\n  width: 100%;\n  padding: 40px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n"]))),at=Object(E.c)(Qe)(Ze||(Ze=Object(G.a)(["\n  width: 68px;\n  height: 68px;\n  font-size: ",";\n  position: absolute;\n  left: 40px;\n"])),(function(n){return n.theme.fontSize.xl})),st=E.c.div(He||(He=Object(G.a)(["\n  width: 100%;\n  padding: 40px;\n"]))),ut=E.c.h3(Ye||(Ye=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n  margin-bottom: 0;\n"])),(function(n){return n.theme.fontSize.l}),(function(n){return n.theme.colors.darkGrey})),lt=E.c.p(We||(We=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n  margin: 10px 20px 20px 0;\n"])),(function(n){var e=n.theme;return n.isBig?e.fontSize.xl:e.fontSize.l}),(function(n){return n.theme.colors.darkGrey})),dt=E.c.div($e||($e=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 250px;\n"]))),bt=function(n){var e=n.student;return Object(v.jsxs)(it,{children:[Object(v.jsx)(at,{value:e.average,children:e.average}),Object(v.jsx)(P,{isBig:!0,children:e.name}),Object(v.jsxs)(st,{children:[Object(v.jsx)(ut,{children:"Course:"}),Object(v.jsx)(lt,{isBig:!0,children:e.course}),Object(v.jsx)(ut,{children:"Average grades:"}),e.grades.map((function(n){var e=n.subject,t=n.average;return Object(v.jsxs)(dt,{children:[Object(v.jsx)(lt,{children:e}),Object(v.jsx)(Qe,{value:t,children:t})]},e)}))]})]})},pt=t(153),ht=t.n(pt),jt=Object(E.c)(ht.a)(nt||(nt=Object(G.a)(["\n  padding: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 600px;\n  min-height: 600px;\n  background-color: ",";\n  border-radius: 15px;\n  box-shadow: 0 -5px 25px -10px rgba(0, 0, 0, 0.3);\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(n){return n.theme.colors.white})),ft=function(n){var e=n.handleClose,t=n.isOpen,r=n.children;return Object(v.jsxs)(jt,{appElement:document.getElementById("root"),isOpen:t,onRequestClose:e,children:[r,Object(v.jsx)(M,{onClick:e,children:"Close modal"})]})},xt=function(){var n=Object(d.useState)([]),e=Object(g.a)(n,2),t=e[0],r=e[1],o=he().getStudentById,c=Object(_n.g)().id,i=ct(),a=i.isOpen,s=i.handleOpenModal,u=i.handleCloseModal,l=X(),b=l.data,p=l.isLoading,h=function(){var n=Object(x.a)(f.a.mark((function n(e){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(e);case 2:t=n.sent,r(t),s();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return p?Object(v.jsx)(qe,{children:Object(v.jsx)(P,{children:"Loading..."})}):!c&&b.groups.length>0?Object(v.jsx)(_n.a,{to:"/group/".concat(b.groups[0].id)}):Object(v.jsxs)(qe,{children:[Object(v.jsxs)(Me,{children:[Object(v.jsxs)(P,{as:"h2",children:["Group ",c]}),Object(v.jsx)(Ne,{children:b.groups.map((function(n){var e=n.id;return Object(v.jsxs)(Dn.b,{to:"/group/".concat(e),children:[e," "]},e)}))})]}),Object(v.jsxs)(Le,{children:[Object(v.jsx)(ot,{handleOpenStudentsDetails:h}),Object(v.jsx)(ft,{isOpen:a,handleClose:u,children:Object(v.jsx)(bt,{student:t})})]})]})},gt=function(){return Object(v.jsx)(Ae,{children:Object(v.jsx)(Ie,{children:Object(v.jsxs)(_n.d,{children:[Object(v.jsx)(_n.b,{exact:!0,path:"/",children:Object(v.jsx)(_n.a,{to:"/group"})}),Object(v.jsx)(_n.b,{path:"/group/:id?",children:Object(v.jsx)(xt,{})}),Object(v.jsx)(_n.b,{path:"/notes",children:Object(v.jsx)(Tn,{})})]})})})},mt=E.c.form(et||(et=Object(G.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Ot=function(){var n=z(),e=Object(Fn.a)(),t=e.register,r=e.handleSubmit,o=e.formState.errors;return Object(v.jsxs)(mt,{onSubmit:r(n.signIn),children:[Object(v.jsx)(qn,Object(L.a)({label:"login",name:"login",id:"login"},t("login",{required:!0}))),o.login&&Object(v.jsx)("span",{children:"Login is required"}),Object(v.jsx)(qn,Object(L.a)({label:"password",name:"password",id:"password",type:"password"},t("password",{required:!0}))),o.password&&Object(v.jsx)("span",{children:"password is required"}),Object(v.jsx)(M,{type:"submit",children:"Sign in"})]})},vt=function(){var n=z(),e=k().error;return Object(v.jsxs)(v.Fragment,{children:[e?Object(v.jsx)(q,{message:e}):null,n.user?Object(v.jsx)(gt,{}):Object(v.jsx)(Ot,{})]})},yt=t(48),wt=t(37),kt=t(45),St=t(20),Ct=t.n(St);Ct.a.seed(123);var zt,Gt=["A","B","C"],Et=["workshop","exam","lecture"],Pt=function(n,e){return n[e]},Bt=function(){return Ct.a.datatype.number({min:2,max:5,precision:.1})},At=Object(kt.factory)({student:{id:Object(kt.primaryKey)(Ct.a.datatype.uuid),name:function(){return Ct.a.fake("{{name.firstName}} {{name.lastName}}")},attendance:function(){return"".concat(Ct.a.datatype.number({min:0,max:100}))},average:Bt,group:function(){return Pt(Gt,Ct.a.datatype.number({min:0,max:2}))},course:function(){return Ct.a.fake("{{company.bsAdjective}} {{company.bsNoun}}")},grades:function(){return[{subject:"Business Philosophy",average:Bt()},{subject:"Marketing",average:Bt()},{subject:"Modern Economy",average:Bt()}]}},group:{id:Object(kt.primaryKey)(String)},event:{id:Object(kt.primaryKey)(Ct.a.datatype.uuid),type:function(){return Pt(Et,Ct.a.datatype.number({min:0,max:2}))},group:function(){return Pt(Gt,Ct.a.datatype.number({min:0,max:2}))},subject:function(){return Ct.a.fake("{{company.bsAdjective}} {{company.bsNoun}}")},date:Ct.a.date.soon},teacher:{id:Object(kt.primaryKey)((function(){return"1"})),name:function(){return"Jacek Sobczak"},login:function(){return"teacher@studybuddy.com"},password:function(){return"Test1234"}},note:{id:Object(kt.primaryKey)(Ct.a.datatype.uuid),title:function(){return"Lorem ipsum dolor sit amet"},content:function(){return"Lorem ipsum dolor sit amet"}}}),It=[wt.c.get("/groups",(function(n,e,t){return e(t.status(200),t.json({groups:At.group.getAll()}))})),wt.c.get("/groups/:id",(function(n,e,t){if(n.params.id){var r=At.student.findMany({where:{group:{equals:n.params.id}}});return e(t.status(200),t.json({students:r}))}return e(t.status(404),t.json({error:"Please provide the group ID"}))}))],qt=[wt.c.get("/students/:id",(function(n,e,t){if(n.params.id){var r=At.student.findFirst({where:{id:{equals:n.params.id}}});return r?e(t.status(200),t.json({students:r})):e(t.status(404),t.json({error:"No matching student"}))}return e(t.status(200),t.json({students:At.student.getAll()}))})),wt.c.post("/students/search",(function(n,e,t){var r=At.student.findMany({where:{name:{contains:n.body.searchPhrase}}});return e(t.status(200),t.json({students:r}))}))],Lt=["password"],Mt=function(n){n.password;return Object(En.a)(n,Lt)},Nt=[wt.c.post("/login",(function(n,e,t){var r=At.teacher.findFirst({where:{login:{equals:n.body.login}}});if(r&&r.password===n.body.password){var o=btoa(r.login);return localStorage.setItem("__be_token__",o),e(t.status(200),t.json(Object(L.a)(Object(L.a)({},Mt(r)),{},{token:o})))}return e(t.status(403),t.json({error:"Invalid user data"}))})),wt.c.get("/me",(function(n,e,t){if(function(n){var e;return(localStorage.getItem("__be_token__")||null)===(null===(e=n.headers.get("Authorization"))||void 0===e?void 0:e.replace("Bearer ",""))}(n)){var r=At.teacher.getAll();return e(t.status(200),t.json(Object(L.a)({},Mt(r))))}return e(t.status(401))}))],Ft=[wt.c.get("/notes",(function(n,e,t){return e(t.status(200),t.json({notes:At.note.getAll()}))})),wt.c.post("/notes",(function(n,e,t){if(n.body.title&&n.body.content){var r={id:Ct.a.datatype.uuid(),title:n.body.title,content:n.body.content};return At.note.create(r),e(t.status(201),t.json({note:r}))}return e(t.status(404),t.json({error:"Every note needs to contain title and content"}))})),wt.c.delete("/notes",(function(n,e,t){if(n.body.id){var r=At.note.delete({where:{id:{equals:n.body.id}}});return e(t.status(200),t.json({removedNote:r}))}return e(t.status(400),t.json({error:"Please provide ID of removed note"}))}))],Tt=[].concat(Object(Xe.a)(It),Object(Xe.a)(qt),Object(Xe.a)(Nt),Object(Xe.a)(Ft)),_t=yt.a.apply(void 0,Object(Xe.a)(Tt)),Dt=function(){At.group.create({id:"A"}),At.group.create({id:"B"}),At.group.create({id:"C"}),At.teacher.create(),At.note.create(),At.note.create();for(var n=0;n<15;n++)At.student.create(),At.event.create()};Dt(),window.mocks={seed:Dt,getStudents:function(){return At.student.getAll()},getEvents:function(){return At.event.getAll()},getGroups:function(){return At.group.getAll()}};var Xt=Object(E.b)(zt||(zt=Object(G.a)([" \n@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');\n\n\nhtml {\n    box-sizing: border-box;\n}\n\n*,*::before, *::after {\n    box-sizing: inherit;\n    margin: 0;\n    padding: 0;\n}\n\nbody {\n    font-family: 'Montserrat', sans-serif;\n    overflow-y: hidden;\n}\n\na, button {\n    font-family: 'Montserrat', sans-serif;\n}\n"]))),Ut={colors:{white:"#FFFFFF",lightGrey:"#F7F8FA",grey:"#C0C7D6",darkGrey:"#737C8E",black:"#111111",success:"#8FCB81",error:"#FF8383",warning:"#E1D888",lightPurple:"#DFE2E8"},fontSize:{xl:"24px",l:"17px",m:"12px",s:"11px"}},Kt=t(21),Qt=function(n){var e=n.children;return Object(v.jsx)(Kt.a,{store:V,children:Object(v.jsx)(Dn.a,{children:Object(v.jsx)(E.a,{theme:Ut,children:Object(v.jsx)(w,{children:Object(v.jsxs)(C,{children:[Object(v.jsx)(Xt,{}),e]})})})})})};_t.start().then((function(){h.a.render(Object(v.jsx)(b.a.StrictMode,{children:Object(v.jsx)(Qt,{children:Object(v.jsx)(vt,{})})}),document.getElementById("root"))}))}},[[1795,1,2]]]);
//# sourceMappingURL=main.3822cea6.chunk.js.map